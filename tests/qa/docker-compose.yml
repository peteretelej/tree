version: '3.8'

services:
  # Ubuntu Linux testing
  tree-qa-linux:
    build:
      context: ../..
      dockerfile: tests/qa/Dockerfile.linux
    container_name: tree-qa-linux
    environment:
      - RUST_LOG=info
    
  # Alpine Linux testing (musl compatibility)
  tree-qa-alpine:
    build:
      context: ../..
      dockerfile: tests/qa/Dockerfile.alpine
    container_name: tree-qa-alpine
    environment:
      - RUST_LOG=info

  # Windows testing (requires Windows Docker host)
  # Uncomment when running on Windows Docker host
  # tree-qa-windows:
  #   build:
  #     context: ../..
  #     dockerfile: tests/qa/Dockerfile.windows
  #   container_name: tree-qa-windows
  #   environment:
  #     - RUST_LOG=info